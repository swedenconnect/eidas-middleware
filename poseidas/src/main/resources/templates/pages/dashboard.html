<!--
  ~ Copyright (c) 2022 Governikus KG. Licensed under the EUPL, Version 1.2 or as soon they will be approved by
  ~ the European Commission - subsequent versions of the EUPL (the "Licence"); You may not use this work except
  ~ in compliance with the Licence. You may obtain a copy of the Licence at:
  ~ http://joinup.ec.europa.eu/software/page/eupl Unless required by applicable law or agreed to in writing,
  ~ software distributed under the Licence is distributed on an "AS IS" basis, WITHOUT WARRANTIES OR CONDITIONS
  ~ OF ANY KIND, either express or implied. See the Licence for the specific language governing permissions and
  ~ limitations under the Licence.
  -->

<!DOCTYPE html>
<html th:replace="~{base-template/main :: main(~{::title}, ~{::section})}"
      xmlns:th="http://www.thymeleaf.org">

<title>Dashboard - eIDAS Middleware configuration and administration</title></title>

<section>

    <h1>eID service providers</h1>
    <hr class="text-primary" style="height: 4px"/>

    <div class="row">
        <div class="col" th:if="${noProviders}">
            <span th:text="${noProviders}"></span>
        </div>
        <div class="col-4" th:unless="${noProviders}" th:each="entity: ${entities}">

            <div class="card shadow p-1 mb-4 form-group">
                <div class="card-header bg-light">
                    <h4>
                        <span th:text="${entity.getEntityID()}"/>
                        <small th:unless="${entity.isEnabled()}"><i class="fa fa-eye-slash"></i> (Inactive)</small>
                        <a href="details.html"
                           th:href="@{'/admin-interface/details?entityid=' + ${#uris.escapeQueryParam(entity.getEntityID())}}"
                           class="float-end"><button class="btn btn-primary">Details</button>
                        </a>
                    </h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <b class="col-4">
                            CVCRefID:
                        </b>
                        <div class="col">
                            <span th:text="${entity.getCVCRefID()}"></span>
                        </div>
                    </div>
                    <div class="row">
                        <b class="col-4">
                            CHR:
                        </b>
                        <div class="col">
                            <span th:text="${entity.getCHR()}"></span>
                        </div>
                    </div>
                    <div class="row">
                        <b class="col-4">
                            CAR:
                        </b>
                        <div class="col">
                            <span th:text="${entity.getCAR()}"></span>
                        </div>
                    </div>
                    <div class="row">
                        <b class="col-4">
                            Valid from:
                        </b>
                        <div class="col">
                            <span th:text="${entity.getValidFrom()}"></span>
                        </div>
                    </div>
                    <div class="row">
                        <b class="col-4">
                            Valid until:
                        </b>
                        <div class="col">
                            <span th:text="${entity.getValidUntil()}"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <h1>Shortcuts</h1>
    <hr class="text-primary" style="height: 4px"/>
    <div class="row">
        <div class="col-4">
            <form action="#" method=get th:action="@{/admin-interface/metadataConfig/downloadmiddlewaremetadata}">
                <button type="submit" class="btn btn-primary w-100 btn-lg shadow">Download metadata <i
                        class="fa fa-download"></i></button>
            </form>
        </div>
        <div class="col-4">
            <a href="#" th:href="@{/admin-interface/support}">
                <button class="btn btn-primary btn-lg w-100 shadow">Contact support <i class="fa fa-question-circle"></i>
                </button>
            </a>
        </div>
        <div class="col-4">
            <a href="#" th:href="@{/admin-interface/status}">
                <button class="btn btn-primary btn-lg w-100 shadow">System status <i class="fa fa-thermometer-empty"></i>
                </button>
            </a>
        </div>
    </div>
</section>
</html>

