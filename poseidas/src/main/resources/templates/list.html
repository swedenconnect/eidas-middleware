<!--
  ~ Copyright (c) 2020 Governikus KG. Licensed under the EUPL, Version 1.2 or as soon they will be approved by
  ~ the European Commission - subsequent versions of the EUPL (the "Licence"); You may not use this work except
  ~ in compliance with the Licence. You may obtain a copy of the Licence at:
  ~ http://joinup.ec.europa.eu/software/page/eupl Unless required by applicable law or agreed to in writing,
  ~ software distributed under the Licence is distributed on an "AS IS" basis, WITHOUT WARRANTIES OR CONDITIONS
  ~ OF ANY KIND, either express or implied. See the Licence for the specific language governing permissions and
  ~ limitations under the Licence.
  -->

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>POSeIDAS CVC List</title>
    <!--Bootstrap-->
    <link rel="stylesheet" th:href="@{/admin-interface/webjars/bootstrap/5.1.0/css/bootstrap.css}">
    <script th:src="@{/admin-interface/webjars/jquery/3.6.0/jquery.min.js}"></script>
    <script th:src="@{/admin-interface/webjars/bootstrap/5.1.0/js/bootstrap.bundle.min.js}"></script>
    <script th:src="@{/admin-interface/js/poseidas.js}"></script>
</head>
<body>
<div class="content">

    <div th:replace="fragments/header :: header"/>

    <div th:if="${errorMessage} != null">
        <div th:text="${errorMessage}" class="text-danger"/>
    </div>
    <div class="container mt-4">
        <div class="row">
            <div class="col-9">
                <h1>List of available eID Service Providers</h1>
            </div>
            <div class="col-3 text-right">
                <form action="#" method=get th:action="@{/admin-interface/download}">
                    <input type="submit" class="btn btn-primary" value="Download Metadata"/>
                </form>
            </div>
        </div>
        <table class="table table-striped">
            <thead>
            <tr>
                <th scope="col">Entity Name</th>
                <th scope="col">CVC refID</th>
                <th scope="col">CHR</th>
                <th scope="col">CAR</th>
                <th scope="col">Valid from</th>
                <th scope="col">Valid until</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="entity: ${entities}">
                <td><a href="details.html" th:href="@{/admin-interface/details/__${entity.getEntityID()}__}">
                    <span th:text="${entity.getEntityID()}">link</span></a></td>
                <td th:text="${entity.getCVCRefID()}"/>
                <td th:text="${entity.getCHR()}"/>
                <td th:text="${entity.getCAR()}"/>
                <td th:text="${entity.getValidFrom()}"/>
                <td th:text="${entity.getValidUntil()}"/>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>

